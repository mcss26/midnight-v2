<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Midnight ‚Äî Staff</title>
  <link rel="stylesheet" href="admin-styles.css" />
</head>
<body>
  <header class="admin-header">
    <div class="admin-logo">MIDNIGHT<span style="color: #fff;">STAFF</span></div>
    <div style="display:flex; gap:10px; align-items:center;">
        <span id="staffName" style="font-size:10px; color:#666; font-weight:700;"></span>
        <button onclick="window.location.href='index.html'" class="btn-logout">SALIR</button>
    </div>
  </header>

  <div class="admin-container" style="max-width:500px; margin-top:30px;">
    <h2 class="section-title" style="text-align:center;">MI PUESTO</h2>
    
    <div class="dashboard-grid">
        <a href="modulo-qr.html" class="dash-card" style="justify-content:center; align-items:center; text-align:center; height:150px;">
            <div style="font-size:30px;">üìç</div>
            <h3 class="dash-title" style="margin-top:10px;">FICHAR ENTRADA</h3>
        </a>

        <a id="btnOp" href="#" class="dash-card" style="justify-content:center; align-items:center; text-align:center; height:150px; border-color:var(--mc-accent-blue);">
            <div style="font-size:30px;">üöÄ</div>
            <h3 class="dash-title" style="margin-top:10px; color:var(--mc-accent-blue);">MI OPERACI√ìN</h3>
            <div id="lblOp" class="dash-desc">Cargando acceso...</div>
        </a>
    </div>
  </div>

  <script>
    // L√≥gica de Redirecci√≥n seg√∫n Rol
    const role = localStorage.getItem('mc_user_role');
    const user = localStorage.getItem('mc_user_name');
    
    document.getElementById('staffName').innerText = user || 'STAFF';

    const btn = document.getElementById('btnOp');
    const lbl = document.getElementById('lblOp');

    if (role === 'staff_caja') {
        btn.href = 'staff-caja.html';
        lbl.innerText = 'Ir a Cierre de Caja';
    } else if (role === 'staff_barra') {
        btn.href = 'staff-barra.html';
        lbl.innerText = 'Ir a Pedidos Barra';
    } else if (role === 'staff_acreditaciones') {
        btn.href = 'staff-acreditaciones.html';
        lbl.innerText = 'Ir a Control Puerta';
    } else {
        lbl.innerText = 'Rol no operativo';
        btn.style.opacity = '0.5';
    }
  </script>
</body>
</html>